## Документация команд бота

| Команда                           | Описание                                                         | Доступ        |
|-----------------------------------|------------------------------------------------------------------|---------------|
| `/start`, `/reg`                  | Запускает регистрацию пользователя.                              | Пользователь  |
| `/pay`                            | Запускает оплату.                                                | Пользователь  |
| `/new_comment`                    | Отправляет уведомление о новом комментарии администратору.       | Пользователь  |
| `/new_comment_all`                | Отправляет уведомление о новом комментарии всем администраторам. | Пользователь  |
| `/help`                           | Выводит список доступных команд.                                 | Пользователь  |
| `/oplata`                         | Отправляет уведомление об оплате.                                | Пользователь  |
| `/msg`                            | Отправляет сообщение администратору.                             | Администратор |
| `/status`                         | Показывает статус бота и информацию о текущем экземпляре.        | Администратор |
| `/get_group_info`                 | Показывает информацию о группе.                                  | Администратор |
| `/who`                            | Показывает информацию о пересланном сообщении.                   | Администратор |
| `/m`, `/metrics`                  | Отправляет уведомление о метриках.                               | Администратор |
| `/metrics_director_notification`  | Отправляет уведомление о метриках директору.                     | Директор      |
| `/metrics_nachalnic_notification` | Отправляет уведомление о метриках начальнику.                    | Начальник     |
| `/metrics_master_notification`    | Формирует отчет о метриках для мастера.                          | Мастер        |
| `/docs`                           | Выводит ссылки на документацию.                                  | Пользователь  |
| `/oper`                           | Выводит ссылки на контактные данные оператора.                   | Пользователь  |
| `/list`                           | Поиск пользователя по имени или фамилии.                         | Администратор |
| `/list_test_otk_marh`             | Проверка тестовой группы ОТК.                                    | Администратор |
| `/get_website_screenshot`         | Делает скриншот веб-сайта.                                       | Администратор |
| `/mbth`                           | Выводит таблицу метрик.                                          | Администратор |
| `/mjpg`                           | Выводит скриншот веб-страницы с метриками.                       | Администратор | 

## Расписание задач бота

| Задача                                       | Расписание        | Описание                                                  | Условия                        |
|----------------------------------------------|-------------------|-----------------------------------------------------------|--------------------------------|
| `notifyAllUsers()`                           | `*/17 8-23 * * *` | Отправляет уведомления всем пользователям.                | -                              |
| `oplataNotification()`                       | `*/15 * * * *`    | Отправляет уведомления об оплате.                         | -                              |
| `metricsNotificationDirector()` (DIR_METRIC) | `30 7 * * *`      | Отправляет уведомления о метриках директору (DIR_METRIC). | `METRICS_REPORT_ACTIVE` = true |
| `metricsNotificationDirector()` (DIR_OPLATA) | `0 7 * * *`       | Отправляет уведомления о метриках директору (DIR_OPLATA). | `METRICS_REPORT_ACTIVE` = true |
| `metricsNotificationDirector()` (KISELEV)    | `30 7 * * *`      | Отправляет уведомления о метриках директору (KISELEV).    | `METRICS_REPORT_ACTIVE` = true |
| `sendMetricsMessagesNach()`                  | `0 10 * * *`      | Отправляет уведомления о метриках начальникам.            | `METRICS_REPORT_ACTIVE` = true |
| `formatMetricsMessageMaster()`               | `0 10 * * *`      | Формирует отчет о метриках для мастерам.                  | `METRICS_REPORT_ACTIVE` = true |
| `checkBotData()`                             | `*/30 * * * *`    | Проверяет актуальность данных о боте.                     | `MODE === 'build'`             |

**Описание формата расписания:**

* `*/17` - выполнять каждые 17 минут
* `8-23` - с 8 утра до 11 вечера
* `* * * * *` - каждый час, каждый день, каждый месяц, каждый день недели, каждый год