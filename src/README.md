## Документация команд бота Пользователь

| Команда          | Описание                                                          | Доступ       |
|------------------|-------------------------------------------------------------------|--------------|
| `/start`, `/reg` | Запускает регистрацию пользователя.                               | Пользователь |
| `/pay`           | Запускает отправку информации о ЗП.                               | Пользователь |
| `/help`          | Выводит список доступных команд.                                  | Пользователь |
| `/docs`          | Выводит ссылки на документацию.                                   | Пользователь |
| `/oper`          | Выводит ссылки на группы.                                         | Пользователь |
| `/new_comment`   | Отправляет уведомление о новом комментарии операторам и мастерам. | Пользователь |

## Документация команд бота Администратор

| Команда                           | Описание                                                               | Доступ        |
|-----------------------------------|------------------------------------------------------------------------|---------------|
| `/new_comment_all`                | Отправляет уведомление о новом комментарии всем операторам и мастерам. | Администратор |
| `/msg`                            | Позволяет отправить сообщение любому пользователю                      | Администратор |
| `/status`                         | Показывает статус бота и информацию о текущем экземпляре.              | Администратор |
| `/get_group_info`                 | Показывает информацию о группе.                                        | Администратор |
| `/who`                            | Показывает информацию о пересланном сообщении.                         | Администратор |
| `/m`, `/metrics`                  | Отправляет уведомление о метриках.                                     | Администратор |
| `/list`                           | Поиск пользователя по имени или фамилии.                               | Администратор |
| `/list_test_otk_marh`             | Проверка и отправка приглашений в ОТК и Маршрутку.                     | Администратор |
| `/get_website_screenshot`         | Делает скриншот веб-сайта.                                             | Администратор |
| `/mbth`                           | Выводит таблицу метрик.                                                | Администратор |
| `/mjpg`                           | Выводит скриншот веб-страницы с метриками.                             | Администратор | 
| `/metrics_director_notification`  | Отправляет уведомление о метриках директору.                           | Администратор |
| `/metrics_nachalnic_notification` | Отправляет уведомление о метриках начальнику.                          | Администратор |
| `/metrics_master_notification`    | Формирует отчет о метриках для мастера.                                | Администратор |
| `/oplata`                         | Отправляет уведомление об оплате.                                      | Администратор |

## Расписание задач бота

| Задача                                  | Расписание              | Описание                                                      | Условия                        |
|-----------------------------------------|-------------------------|---------------------------------------------------------------|--------------------------------|
| `notifyAllUsers()`                      | каждые 17 мин с 8 до 23 | Проверяет. Отправляет уведомления всем операторам и мастерам. | -                              |
| `oplataNotification()`                  | каждые 15 мин           | Проверяет. Отправляет уведомления об оплате.                  | `OPLATA_REPORT_ACTIVE` = true  |
| `metricsNotificationDirector()` (DIR_J) | в 7:00                  | Отправляет уведомления о метриках директору (DIR_J).          | `METRICS_REPORT_ACTIVE` = true |
| `metricsNotificationDirector()` (DIR_F) | в 7:30                  | Отправляет уведомления о метриках директору (DIR_F).          | `METRICS_REPORT_ACTIVE` = true |
| `metricsNotificationDirector()` (DIR_K) | в 7:30                  | Отправляет уведомления о метриках директору (DIR_K).          | `METRICS_REPORT_ACTIVE` = true |
| `sendMetricsMessagesNach()`             | в 10:00                 | Отправляет уведомления о метриках начальникам.                | `METRICS_REPORT_ACTIVE` = true |
| `formatMetricsMessageMaster()`          | в 10:00                 | Формирует отчет о метриках мастерам.                          | `METRICS_REPORT_ACTIVE` = true |
| `checkBotData()`                        | каждые 30 мин           | Проверяет актуальность запуска о боте.                        | `MODE === 'build'`             |

**Описание формата расписания:**

* `*/17` - выполнять каждые 17 минут
* `8-23` - с 8 утра до 11 вечера
* `* * * * *` - каждый час, каждый день, каждый месяц, каждый день недели, каждый год